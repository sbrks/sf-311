<!DOCTYPE html>
<html>
  <head>
    <title>San Francisco 311 on 1.3.17</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=650, user-scalable=yes">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script> 
    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
 
    <link rel="stylesheet"  href="css/style.css">
 
 <style>
   circle {
  fill: #4A988A;
}
text {
  font-family: "Open Sans";
  text-anchor: middle;
  color: rgb(34,​ 34,​ 34);
  font-size: 12px;
}

 </style>
  </head>
  <body>
    <div id="container">
      <header>
        <h1>311 Calls on January 3, 2017</h1>
        <h2>One day of 311 complaints/requests to the city by category</h2>
      </header>

      <svg id="chart"  width="800px" height="800px"></svg>

 
    </div>

   <script>
   var data = [
    {
  
    label: "311 External Request",
    calls: 2
  },  
  { 
  label: "Abandoned Vehicle",
  calls: 90
},{
  label: "Blocked Street or SideWalk",
  calls: 17
}, {
  label: "Catch Basin Maintenance",
  calls: 7
}, {
  label: "Color Curb",
  calls: 5
},
{
    label: "Construction Zone Permits",
    calls: 9
  },  
  {
  label: "Damaged Property",
  calls: 27
},{
  label: "General Requests",
  calls: 122
}, {
  label: "Graffiti Private Property",
  calls: 60
}, {
  label: "Graffiti Public Property",
  calls: 154
},
{
    label: "Illegal Postings",
    calls: 5
  },  
  {
  label: "Interdepartmental Request",
  calls: 1
},{
  label: "Litter Receptacles",
  calls: 10
}, {
  label: "MUNI Feedback",
  calls: 82
}, {
  label: "Noise Report",
  calls: 7
},
 {
    label: "Rec and Park Requests",
    calls: 8
  },  
  {
  
  label: "Residential Building Request",
  calls: 4
},{
  label: "Sewer Issues",
  calls: 35
}, {
  label: "SFHA Requests",
  calls: 13
}, {
  label: "Sidewalk or Curb",
  calls: 7
},
{
    label: "Sign Repair",
    calls: 12
  },  
  {
  label: "Street and Sidewalk Cleaning",
  calls: 588
},{
  label: "Street Defects",
  calls: 17
}, {
  label: "Streetlights",
  calls: 26
}, {
  label: "Temporary Sign Request",
  calls: 47
},
{
    label: "Tree Maintenance",
    calls: 33
  }

]

var g = d3.select('#chart')
  .selectAll("g")
  .data(data)
  .enter()
  .append('g')
g.append("circle")
  .attr('cy', 40)
  .attr('cx', (d, i)=> (i+1) * 100)
  .attr('r', (d)=> d.calls / 2)
g.append("text")
  .attr('y', 90)
  .attr('x', (d, i)=> (i+1) * 100)
  .text((d)=> d.label)

   </script>
  </body>
</html>
